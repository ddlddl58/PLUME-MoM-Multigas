print 'Creating a new input file'
from parameters_range_Probmap import *
with open("input_file_template_Probmap.py", "r") as f1, open("sample_emittimes_output.txt", "r") as f2, open("mass_flow_rates_eruption.txt", "r") as f3, open("input_file.py", "w") as f4, open("sample_TGSD.txt", "r") as f5:
	line1=f1.readline()
	line2=f1.readline()
	line3=f1.readline()
	for i in range(3):
		next(f1)
	line7=next(f1)
	line8=next(f1)
	line9=next(f1)
	line10=next(f1)
	line11=next(f1)
	for i in range(2):
		next(f1)
	line14=next(f1)
	line15=next(f1)
	line16=next(f1)
	line17=next(f1)
	line18=next(f1)
	line19=next(f1)
	line20=next(f1)
	line21=next(f1)
	line22=next(f1)
	line23=next(f1)
	for i in range(1):
		next(f1)
	line25=next(f1)
	line26=next(f1)
	line27=next(f1)
	line28=next(f1)
	line29=next(f1)
	line30=next(f1)
	line31=next(f1)
	line32=next(f1)
	line33=next(f1)
	for i in range(1):
		next(f1)
	line35=next(f1)
	line36=next(f1)
	line37=next(f1)
	line38=next(f1)
	line39=next(f1)
	line40=next(f1)
	line41=next(f1)
	line42=next(f1)
	line43=next(f1)
	line44=next(f1)
	line45=next(f1)
	line46=next(f1)
	line47=next(f1)
	line48=next(f1)
	line49=next(f1)
	line50=next(f1)
	line51=next(f1)
	line52=next(f1)
	line53=next(f1)
	line54=next(f1)
	line55=next(f1)
	line56=next(f1)
	line57=next(f1)
	line58=next(f1)
	line59=next(f1)
	line60=next(f1)
	line61=next(f1)
	line62=next(f1)
	line63=next(f1)
	line64=next(f1)
	line65=next(f1)
	line66=next(f1)
	line67=next(f1)
	line68=next(f1)
	line69=next(f1)
	line70=next(f1)
	line71=next(f1)
	line72=next(f1)
	line73=next(f1)
	line74=next(f1)
	line75=next(f1)
	line76=next(f1)
	f1.close()
	line1b=f2.readline()
	line2b=f2.readline()
	line3b=f2.readline()
	f2.close()
	log10_mfr=f3.readlines()
	log10_mfr=str(log10_mfr)[2 : -2]
	f3.close()
	npart=f5.readline()
	npart=str(npart)	
	partial_mass_fractions=f5.readline()
	partial_mass_fractions=str(partial_mass_fractions)
	diam_phi=f5.readline()
	diam_phi=str(diam_phi)
	f5.close()
	f4.write(line1)
	f4.write(line2)
	f4.write(line3)
	f4.write('starttime = '), f4.write(line1b)
	f4.write('endemittime = '), f4.write(line2b)
	f4.write('endruntime = '), f4.write(line3b)
	f4.write("\n")
	f4.write(line7)
	f4.write(line8)
	f4.write(line9)
	f4.write(line10)
	f4.write(line11)
	f4.write('meteo_file = '), f4.write("'"), f4.write(meteo_file_name), f4.write("'")
	f4.write('\n')
	f4.write(line14)
	f4.write(line15)
	f4.write(line16)
	f4.write(line17)
	f4.write(line18)
	f4.write(line19)
	f4.write(line20)
	f4.write(line21)
	f4.write(line22)
	f4.write(line23)
	f4.write('log10_mfr = ['), f4.write(log10_mfr), f4.write(']')
	f4.write('\n')
	f4.write(line25)
	f4.write(line26)
	f4.write(line27)
	f4.write(line28)
	f4.write(line29)
	f4.write(line30)
	f4.write(line31)
	f4.write(line32)
	f4.write(line33)
	f4.write("water_mass_fraction0 = "), f4.write(water_mass_fraction0), f4.write('\n')
	f4.write(line35)
	f4.write(line36)
	f4.write(line37)
	f4.write(line38)
	f4.write(line39)
	f4.write(line40)
	f4.write(line41)
	f4.write(line42)
	f4.write(line43)
	f4.write(line44)
	f4.write(line45)
	f4.write(line46)
	f4.write(line47)
	f4.write(line48)
	f4.write(line49)
	f4.write(line50)
	f4.write(line51)
	f4.write(line52)
	f4.write(line53)
	f4.write(line54)
	f4.write(line55)
	f4.write(line56)
	f4.write(line57)
	f4.write(line58)
	f4.write(line59)
	f4.write(line60)
	f4.write(line61)
	f4.write(line62)
	f4.write(line63)
	f4.write(line64)
	f4.write(line65)
	f4.write(line66)
	f4.write(line67)
	f4.write(line68)
	f4.write(line69)
	f4.write(line70)
	f4.write(line71)
	f4.write(line72)
	f4.write(line73)
	f4.write(line74)
	f4.write(line75)
	f4.write(line76)
	f4.write("npart = "), f4.write(npart)
	f4.write("diam1 = "), f4.write(diam1), f4.write('\n')
	f4.write("rho1 = "), f4.write(rho1), f4.write('\n')
	f4.write("diam2 = "), f4.write(diam2), f4.write('\n')
	f4.write("rho2 = "), f4.write(rho2), f4.write('\n')
	f4.write("cp_part = "), f4.write(cp_part), f4.write('\n')
	f4.write("shapefactor = "), f4.write(shapefactor), f4.write('\n')
	f4.write('\n')
	f4.write("partial_mass_fractions = "), f4.write(partial_mass_fractions)
	f4.write("diam_phi = "), f4.write(diam_phi)
	f4.close()
print 'Done'

