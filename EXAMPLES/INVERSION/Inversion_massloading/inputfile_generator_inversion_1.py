print 'Creating a new input file'
from parameters_range_inversion import *
from random import *
import numpy as np
import re
with open("input_file_template_inversion.py", "r") as f1, open("sample_locations", "r") as f2, open("parameters_range_inversion.py", "r") as f3, open("input_file.py", "wa") as f4:
	line1=f1.readline()
	line2=f1.readline()
	line3=f1.readline()
	line4=f1.readline()
	line5=f1.readline()
	line6=f1.readline()
	line7=f1.readline()
	line8=f1.readline()
	line9=f1.readline()
	line10=f1.readline()
	line11=f1.readline()
	line12=f1.readline()
	line13=f1.readline()
	line14=f1.readline()
	line15=f1.readline()
	line16=f1.readline()
	line17=f1.readline()
	line18=f1.readline()
	line19=f1.readline()
	line20=f1.readline()
	line21=f1.readline()
	line22=f1.readline()
	line23=f1.readline()
	for i in range(1):
		next(f1)
	line25=next(f1)
	line26=next(f1)
	line27=next(f1)
	line28=next(f1)
	line29=next(f1)
	line30=next(f1)
	line31=next(f1)
	line32=next(f1)
	line33=next(f1)
	for i in range(1):
		next(f1)
	line35=next(f1)
	line36=next(f1)
	line37=next(f1)
	line38=next(f1)
	line39=next(f1)
	line40=next(f1)
	line41=next(f1)
	line42=next(f1)
	line43=next(f1)
	line44=next(f1)
	line45=next(f1)
	line46=next(f1)
	line47=next(f1)
	line48=next(f1)
	line49=next(f1)
	line50=next(f1)
	line51=next(f1)
	line52=next(f1)
	line53=next(f1)
	line54=next(f1)
	line55=next(f1)
	line56=next(f1)
	line57=next(f1)
	line58=next(f1)
	line59=next(f1)
	line60=next(f1)
	line61=next(f1)
	line62=next(f1)
	line63=next(f1)
	line64=next(f1)
	line65=next(f1)
	line66=next(f1)
	line67=next(f1)
	line68=next(f1)
	line69=next(f1)
	line70=next(f1)
	line71=next(f1)
	line72=next(f1)
	line73=next(f1)
	line74=next(f1)
	line75=next(f1)
	line76=next(f1)
	line77=next(f1)
	line78=next(f1)
	line79=next(f1)
	line80=next(f1)
	line81=next(f1)
	line82=next(f1)
	line83=next(f1)
	for i in range(2):
		next(f1)
	line86=next(f1)
	line87=next(f1)
	f1.close()
	samples=f2.read()
	f2.close()
	logten_MFR_a=f3.readline()
	logten_MFR_b=f3.readline()
	water_mass_fraction_a=f3.readline()
	water_mass_fraction_b=f3.readline()
	shapefactor_a=f3.readline()
	shapefactor_b=f3.readline()
	f3.close()
	logten_MFR_a=str(re.findall("\d+\.\d+", logten_MFR_a))
	logten_MFR_a=logten_MFR_a[2:-2]
	logten_MFR_a=float(logten_MFR_a)
	logten_MFR_b=str(re.findall("\d+\.\d+", logten_MFR_b))
	logten_MFR_b=logten_MFR_b[2:-2]
	logten_MFR_b=float(logten_MFR_b)
	water_mass_fraction_a=str(re.findall("\d+\.\d+", water_mass_fraction_a))
	water_mass_fraction_a=water_mass_fraction_a[2:-2]
	water_mass_fraction_a=float(water_mass_fraction_a)
	water_mass_fraction_b=str(re.findall("\d+\.\d+", water_mass_fraction_b))
	water_mass_fraction_b=water_mass_fraction_b[2:-2]
	water_mass_fraction_b=float(water_mass_fraction_b)
	shapefactor_a=str(re.findall("\d+\.\d+", shapefactor_a))
	shapefactor_a=shapefactor_a[2:-2]
	shapefactor_a=float(shapefactor_a)
	shapefactor_b=str(re.findall("\d+\.\d+", shapefactor_b))
	shapefactor_b=shapefactor_b[2:-2]
	shapefactor_b=float(shapefactor_b)
	f4.write(line1)
	f4.write(line2)
	f4.write(line3)
	f4.write(line4)
	f4.write(line5)
	f4.write(line6)
	f4.write(line7)
	f4.write(line8)
	f4.write(line9)
	f4.write(line10)
	f4.write(line11)
	f4.write(line12)
	f4.write(line13)
	f4.write(line14)
	f4.write(line15)
	f4.write(line16)
	f4.write(line17)
	f4.write(line18)
	f4.write(line19)
	f4.write(line20)
	f4.write(line21)
	f4.write(line22)
	f4.write(line23)
	f4.write('log10_mfr = ['), f4.write(str(round(uniform(logten_MFR_a, logten_MFR_b), 4))), f4.write(']')
	f4.write('\n')
	f4.write(line25)
	f4.write(line26)
	f4.write(line27)
	f4.write(line28)
	f4.write(line29)
	f4.write(line30)
	f4.write(line31)
	f4.write(line32)
	f4.write(line33)
	f4.write("water_mass_fraction0 = "), f4.write(str(round(uniform(water_mass_fraction_a, water_mass_fraction_b), 4))), f4.write('\n')
	f4.write(line35)
	f4.write(line36)
	f4.write(line37)
	f4.write(line38)
	f4.write(line39)
	f4.write(line40)
	f4.write(line41)
	f4.write(line42)
	f4.write(line43)
	f4.write(line44)
	f4.write(line45)
	f4.write(line46)
	f4.write(line47)
	f4.write(line48)
	f4.write(line49)
	f4.write(line50)
	f4.write(line51)
	f4.write(line52)
	f4.write(line53)
	f4.write(line54)
	f4.write(line55)
	f4.write(line56)
	f4.write(line57)
	f4.write(line58)
	f4.write(line59)
	f4.write(line60)
	f4.write(line61)
	f4.write(line62)
	f4.write(line63)
	f4.write(line64)
	f4.write(line65)
	f4.write(line66)
	f4.write(line67)
	f4.write(line68)
	f4.write(line69)
	f4.write(line70)
	f4.write(line71)
	f4.write(line72)
	f4.write(line73)
	f4.write(line74)
	f4.write(line75)
	f4.write(line76)
	f4.write(line77)
	f4.write(line78)
	f4.write(line79)
	f4.write(line80)
	f4.write(line81)
	f4.write(line82)
	f4.write(line83)
	f4.write("shapefactor = "), f4.write(str(round(uniform(shapefactor_a, shapefactor_b), 4))), f4.write('\n')
	f4.write(line86)
	f4.write(line87)
	f4.write('\n')
	f4.write(samples)
	f4.close()
print 'Done'

